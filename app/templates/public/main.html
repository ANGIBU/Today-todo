<!-- app/templates/public/main.html -->
{% extends "layout.html" %}

{% block title %}투투{% endblock %}

{% block header_title %}투데이 투두{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/main_02.css') }}">
{% endblock %}

{% block content %}
<div class="content-wrapper">
    <!-- 달력 부분 -->
    <div class="calendar-container">
        <div class="calendar-header">
            <div class="year-month-display" id="currentYearMonth"></div>
            <div class="calendar-navigation">
                <button id="prevMonth" class="nav-btn"><i class="fas fa-chevron-left"></i></button>
                <button id="nextMonth" class="nav-btn"><i class="fas fa-chevron-right"></i></button>
            </div>
        </div>
        <table class="calendar-table">
            <thead>
                <tr>
                    <th>월</th>
                    <th>화</th>
                    <th>수</th>
                    <th>목</th>
                    <th>금</th>
                    <th>토</th>
                    <th>일</th>
                </tr>
            </thead>
            <tbody id="calendarBody">
                <!-- 달력 내용은 JavaScript로 생성됨 -->
            </tbody>
        </table>
    </div>
    
    <!-- 할 일 목록 부분 -->
    <div class="todos-container">
        <div class="todos-header">
            <h2>오늘의 할 일</h2>
        </div>
        <div class="tasks-list" id="tasksList">
            <!-- 할 일 목록은 JavaScript로 생성됨 -->
        </div>
        
        <!-- 카테고리 추가 버튼 -->
        <button id="addCategoryBtn" class="add-category-btn">
            <i class="fas fa-plus"></i> 카테고리 추가
        </button>
    </div>
    
    <!-- 일기장 부분 -->
    <div class="diary-container">
        <div class="diary-header">
            <h2>오늘의 일기</h2>
        </div>
        <div class="diary-toolbar">
            <button class="toolbar-btn" data-command="bold" title="굵게"><i class="fas fa-bold"></i></button>
            <button class="toolbar-btn" data-command="italic" title="기울임"><i class="fas fa-italic"></i></button>
            <button class="toolbar-btn" data-command="underline" title="밑줄"><i class="fas fa-underline"></i></button>
            <!-- 색상 버튼을 밑줄 버튼 옆으로 이동 -->
            <div class="color-btn-wrapper" style="position: relative;">
                <button class="toolbar-btn color-btn" title="텍스트 색상"><i class="fas fa-palette"></i></button>
                <!-- 색상 선택 패널 개선 -->
                <div class="color-picker" id="colorPicker">
                    <p class="color-picker-title">텍스트 색상 선택</p>
                    <div class="color-options">
                        <div class="color-option" style="background-color: #000000;" data-color="#000000"></div>
                        <div class="color-option" style="background-color: #434343;" data-color="#434343"></div>
                        <div class="color-option" style="background-color: #666666;" data-color="#666666"></div>
                        <div class="color-option" style="background-color: #999999;" data-color="#999999"></div>
                        <div class="color-option" style="background-color: #b7b7b7;" data-color="#b7b7b7"></div>
                        <div class="color-option" style="background-color: #cccccc;" data-color="#cccccc"></div>
                        <div class="color-option" style="background-color: #d9d9d9;" data-color="#d9d9d9"></div>
                        <div class="color-option" style="background-color: #efefef;" data-color="#efefef"></div>
                        <div class="color-option" style="background-color: #f3f3f3;" data-color="#f3f3f3"></div>
                        <div class="color-option" style="background-color: #ffffff;" data-color="#ffffff"></div>
                        <div class="color-option" style="background-color: #980000;" data-color="#980000"></div>
                        <div class="color-option" style="background-color: #ff0000;" data-color="#ff0000"></div>
                        <div class="color-option" style="background-color: #ff9900;" data-color="#ff9900"></div>
                        <div class="color-option" style="background-color: #ffff00;" data-color="#ffff00"></div>
                        <div class="color-option" style="background-color: #00ff00;" data-color="#00ff00"></div>
                        <div class="color-option" style="background-color: #00ffff;" data-color="#00ffff"></div>
                        <div class="color-option" style="background-color: #4a86e8;" data-color="#4a86e8"></div>
                        <div class="color-option" style="background-color: #0000ff;" data-color="#0000ff"></div>
                        <div class="color-option" style="background-color: #9900ff;" data-color="#9900ff"></div>
                        <div class="color-option" style="background-color: #ff00ff;" data-color="#ff00ff"></div>
                        <div class="color-option" style="background-color: #e6b8af;" data-color="#e6b8af"></div>
                        <div class="color-option" style="background-color: #f4cccc;" data-color="#f4cccc"></div>
                        <div class="color-option" style="background-color: #fce5cd;" data-color="#fce5cd"></div>
                        <div class="color-option" style="background-color: #fff2cc;" data-color="#fff2cc"></div>
                        <div class="color-option" style="background-color: #d9ead3;" data-color="#d9ead3"></div>
                        <div class="color-option" style="background-color: #d0e0e3;" data-color="#d0e0e3"></div>
                        <div class="color-option" style="background-color: #c9daf8;" data-color="#c9daf8"></div>
                        <div class="color-option" style="background-color: #cfe2f3;" data-color="#cfe2f3"></div>
                        <div class="color-option" style="background-color: #d9d2e9;" data-color="#d9d2e9"></div>
                        <div class="color-option" style="background-color: #ead1dc;" data-color="#ead1dc"></div>
                        <div class="color-option" style="background-color: #dd7e6b;" data-color="#dd7e6b"></div>
                        <div class="color-option" style="background-color: #ea9999;" data-color="#ea9999"></div>
                        <div class="color-option" style="background-color: #f9cb9c;" data-color="#f9cb9c"></div>
                        <div class="color-option" style="background-color: #ffe599;" data-color="#ffe599"></div>
                        <div class="color-option" style="background-color: #b6d7a8;" data-color="#b6d7a8"></div>
                        <div class="color-option" style="background-color: #a2c4c9;" data-color="#a2c4c9"></div>
                    </div>
                </div>
            </div>
            <div class="toolbar-divider"></div>
            <select class="font-select" id="fontSelect">
                <option value="Arial">Arial</option>
                <option value="Verdana">Verdana</option>
                <option value="Times New Roman">Times New Roman</option>
                <option value="Courier New">Courier New</option>
                <option value="Georgia">Georgia</option>
            </select>
            <select class="font-size" id="fontSize">
                <option value="1">작게</option>
                <option value="2">보통</option>
                <option value="3" selected>중간</option>
                <option value="4">크게</option>
                <option value="5">더 크게</option>
            </select>
            <div class="toolbar-divider"></div>
            <button class="toolbar-btn" data-command="insertImage" title="이미지 삽입"><i class="fas fa-image"></i></button>
            <input type="file" id="imageUpload" accept="image/*" style="display: none;" autocomplete="off">
        </div>
        <div class="diary-content">
            <div id="diaryEditor" contenteditable="true" placeholder="오늘 하루를 기록해보세요..."></div>
        </div>
        <div class="diary-footer">
            <div class="auto-save-indicator">자동 저장됨</div>
            <button id="saveDiary" class="save-diary-btn">저장</button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/calendar_01.js') }}"></script>
<script src="{{ url_for('static', filename='js/calendar_02.js') }}"></script>
<script src="{{ url_for('static', filename='js/calendar_03.js') }}"></script>
<script src="{{ url_for('static', filename='js/diary.js') }}"></script>
{% endblock %}